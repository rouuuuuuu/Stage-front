<nav class="navbar">
  <div class="navbar-left">
    <div class="app-name">MyApp</div>

    <div class="dropdown">
      <button class="dropbtn" (click)="toggleMenu()">
        Menu &#x25BC;
      </button>
      <div class="dropdown-content" [class.show]="menuOpen">
        <!-- Admin-only links -->
        <a *ngIf="isAdmin" routerLink="/fournisseurs" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeMenu()">Fournisseurs</a>
        <a *ngIf="isAdmin" routerLink="/produits" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeMenu()">Produits</a>
        <a *ngIf="isAdmin" routerLink="/consultations" routerLinkActive="active" (click)="closeMenu()">Liste des Consultations</a>

        <!-- Both Admin and Client can see this -->
        <a *ngIf="isAdmin || isClient" routerLink="/consultation" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeMenu()">Consultation</a>
      </div>
    </div>
  </div>

  <div class="navbar-center">
    <input
      type="text"
      placeholder="Search..."
      [(ngModel)]="searchTerm"
      (input)="onSearch()"
      aria-label="Search"
    />
  </div>

  <div class="navbar-right">
    <!-- Upload visible only for Admin -->
    <button *ngIf="isAdmin" class="btn-upload" routerLink="/upload" (click)="closeMenu()">Upload</button>
    <!-- Logout button for everyone logged in -->
    <button *ngIf="isLoggedIn" class="btn-logout" (click)="logout()">Logout</button>
  </div>
</nav>

<!-- ðŸ‘‘ THIS IS THE KINGDOM GATE: LET ROUTES FLOW -->
<router-outlet></router-outlet>
